# Стриминг веб-камеры через WebSocket

Проект для стриминга данных с веб-камеры через WebSocket соединение с использованием Go.

## Структура проекта

- `client/` - Клиентское приложение для захвата и передачи видео
- `server/` - Серверное приложение для приема и сохранения видеопотока

## Требования

- Go 1.21+
- Веб-камера (для клиента)
- Доступ к интернету (для взаимодействия клиент-сервер)

## Установка

### Клиент

```bash
cd client
go mod tidy
```

### Сервер

```bash
cd server
go mod tidy
```

## Запуск

### Сервер

```bash
cd server
go run main.go --port 8080 --output recordings
```

Параметры:
- `--port` - Порт для запуска сервера (по умолчанию 8080)
- `--output` - Директория для сохранения записей (по умолчанию recordings)

### Клиент

```bash
cd client
go run main.go --addr localhost:8080
```

Параметры:
- `--addr` - Адрес сервера (по умолчанию localhost:8080)

## Использование с Docker (для сервера)

### Сборка Docker-образа для сервера

```bash
cd server
docker build -t webcam-server .
```

### Запуск контейнера

```bash
docker run -p 8080:8080 -v ./recordings:/app/recordings webcam-server
```

## Просмотр записей

Для просмотра записанных H.264 потоков можно использовать:

```bash
ffplay recordings/webcam_YYYY-MM-DD_HH-MM-SS.h264
```

или VLC плеер.

## Дальнейшее развитие проекта

- Реализация захвата с веб-камеры на клиенте с использованием mediadevices
- Добавление аутентификации для безопасной передачи
- Поддержка множественных подключений
- Добавление веб-интерфейса для просмотра записей

## Примечания

Текущий клиент представляет собой заглушку для демонстрации работы WebSocket-подключения.
Для полной реализации требуется добавить захват видео с веб-камеры и кодирование H.264. 