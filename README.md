# Webcam Transfer

Приложение для стриминга видео с веб-камеры на сервер с использованием WebSocket.

## Структура проекта

Проект состоит из двух частей:

- **Сервер**: Принимает видеопоток через WebSocket и сохраняет записи на диск.
- **Клиент**: Захватывает видео с веб-камеры и отправляет на сервер.

## Требования

- Go 1.20+
- Docker и Docker Compose
- Веб-камера

## Установка и запуск

Для удобства использования в проекте включен Makefile с основными командами.

### Запуск сервера

```bash
# Собрать и запустить сервер
make run-server

# Остановить сервер
make stop-server
```

Сервер запускается в Docker-контейнере с открытым портом 8080. Записи видео сохраняются в директории `./recordings`.

### Запуск клиента

```bash
# Вывести список доступных устройств
make run-client-list

# Собрать и запустить клиент
make run-client

# Или запустить клиент с определенным устройством
./webcam-client --device-id DEVICE_ID --address localhost:8080
```

## Команды Makefile

- `make help` - Вывести список доступных команд
- `make build-server` - Собрать Docker-образ сервера
- `make run-server` - Запустить сервер в Docker-контейнере
- `make build-client` - Собрать клиент
- `make run-client` - Запустить клиент
- `make run-client-list` - Запустить клиент и вывести список устройств
- `make stop-server` - Остановить сервер
- `make clean` - Очистить ресурсы Docker
- `make clean-all` - Полная очистка (включая образы Docker)

## Примеры использования

### Полный цикл работы

1. Запустите сервер:
   ```bash
   make run-server
   ```

2. Узнайте ID вашей веб-камеры:
   ```bash
   make run-client-list
   ```

3. Запустите клиент с указанием ID устройства:
   ```bash
   ./webcam-client --device-id YOUR_DEVICE_ID --address localhost:8080
   ```

4. Для завершения работы остановите сервер:
   ```bash
   make stop-server
   ```

### Контакты

Если у вас возникли проблемы или вопросы, пожалуйста, создайте issue в репозитории. 