# Webcam Streaming Client

Клиент для стриминга видео с веб-камеры на сервер через WebSocket.

## Структура проекта

Проект организован в соответствии с принципами чистой архитектуры и SOLID:

```
client/
├── cmd/                           # Точки входа в приложение
│   └── webcam-client/             # Основное приложение
│       └── main.go
├── internal/                      # Внутренний код приложения
│   ├── domain/                    # Доменный слой
│   │   └── entities.go            # Доменные сущности и интерфейсы
│   ├── application/               # Слой приложения
│   │   ├── interfaces.go          # Интерфейсы для инфраструктуры
│   │   └── services.go            # Сервисы приложения
│   ├── infrastructure/            # Инфраструктурный слой
│   │   ├── camera/                # Работа с камерой
│   │   │   └── mediadevices.go    # Реализация на основе mediadevices
│   │   ├── logger/                # Логирование
│   │   │   └── stdlogger.go       # Реализация на основе стандартного логгера
│   │   └── streaming/             # Стриминг видео
│   │       └── websocket.go       # Реализация на основе WebSocket
│   └── presentation/              # Презентационный слой
│       └── cli/                   # Командный интерфейс
│           └── commands.go        # Обработка команд CLI
```

## Принципы дизайна

Проект следует следующим принципам:

1. **Чистая архитектура**:
   - Доменный слой не зависит от других слоев
   - Слой приложения зависит только от доменного слоя
   - Инфраструктурный слой зависит от слоя приложения
   - Презентационный слой зависит от слоя приложения

2. **SOLID**:
   - Single Responsibility Principle: каждый класс имеет одну ответственность
   - Open/Closed Principle: расширение без изменения существующего кода
   - Liskov Substitution Principle: подтипы заменяемы своими базовыми типами
   - Interface Segregation Principle: специфичные интерфейсы лучше универсальных
   - Dependency Inversion Principle: зависимость от абстракций, а не от деталей

3. **Dependency Injection**:
   - Все зависимости внедряются извне
   - Легко заменять реализации для тестирования

## Сборка и запуск

Сборка:

```bash
cd cmd/webcam-client
go build -o webcam-client
```

Запуск:

```bash
./webcam-client --addr localhost:8080 --debug
```

Опции:

- `--addr` - адрес сервера (по умолчанию localhost:8080)
- `--width` - ширина видео (по умолчанию 640)
- `--height` - высота видео (по умолчанию 480)
- `--fps` - кадров в секунду (по умолчанию 30)
- `--bitrate` - битрейт в bps (по умолчанию 1000000)
- `--debug` - включить отладочный режим
- `--list-devices` - показать список доступных камер и выйти
- `--device` - ID устройства (опционально) 